@tailwind base;
@tailwind components;
@tailwind utilities;

/* Dark-only token layer */
@layer base {
  :root {
    --bg: 10 10 10; /* base background */
    --fg: 229 229 229; /* foreground */
    --border: 64 64 64; /* border */
    --accent: 115 115 115; /* subdued text */
    --danger: 185 28 28; /* error */
    --danger-fg: 254 226 226; /* on error */
  }
  body { background-color: rgb(var(--bg)); color: rgb(var(--fg)); }
}

@layer components {
  /* Softer card: lighter border, no ring */
  .card { position:relative; border-width:1px; border-color:rgba(38,38,38,0.6); border-radius:0.5rem; box-shadow:0 1px 2px 0 rgba(0,0,0,0.05); display:flex; flex-direction:column; overflow:hidden; background-color:rgb(23 23 23); min-height:11rem; }
  .card-invalid { background-color:rgba(23,23,23,0.4); border-color:rgb(64 64 64); }
  .card-header { padding:1rem; display:flex; align-items:flex-start; gap:0.75rem; }
  .card-title { font-size:1.25rem; line-height:1.75rem; font-weight:500; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
  .badge { display:inline-flex; align-items:center; border:1px solid rgb(64 64 64); background-color:rgba(38,38,38,0.6); color:rgb(212 212 212); border-radius:9999px; padding:0.125rem 0.5rem; font-size:11px; font-weight:500; text-transform:uppercase; letter-spacing:0.05em; }
  .clamp-3 { display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; line-clamp:3; }
  .muted { color:rgb(115 115 115); }
  .icon-btn { position:relative; display:inline-flex; align-items:center; justify-content:center; height:2.75rem; width:2.75rem; /* 44px target */ color:rgb(115 115 115); outline:2px solid transparent; outline-offset:2px; transition:color .15s, background-color .15s; }
  @media (min-width:640px){ .icon-btn { height:1.75rem; width:1.75rem; } }
  .icon-btn::after { content:""; position:absolute; inset:-4px; border-radius:9999px; opacity:0; transition:opacity .15s, background-color .15s; }
  .icon-btn:hover { color:rgb(229 229 229); }
  .icon-btn:hover::after { background-color:rgba(229,229,229,0.1); opacity:1; }
  .icon-btn:focus-visible { color:rgb(245 245 245); }
  .icon-btn:focus-visible::after { background-color:rgba(229,229,229,0.2); opacity:1; }
  .icon-btn:active { color:rgb(250 250 250); }
  /* .card-action-corner removed */
}

@media (prefers-reduced-motion: reduce) {
  .icon-btn, .badge { transition:none; }
}
